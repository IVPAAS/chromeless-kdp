<project name="AntTest" default="compile" basedir=".">
 
	<!-- sdk 4.5 -->
	 <property name="FLEX_HOME" value="/Applications/Adobe Flash Builder 4.6/sdks/4.5.1" />
	<!-- sdk 4.6 -->
	 <!--property name="FLEX_HOME" value="/Applications/Adobe Flash Builder 4.6/sdks/4.6.0" /-->
	 <taskdef name="mxmlc" classname="flex.ant.MxmlcTask" classpath="${FLEX_HOME}/ant/lib/flexTasks.jar" />

	<property name="v_kdp" value="1.0.2"/>
    <property name="src" value="src"/>  
    <property name="build" value="build-release"/>
     
    <target name="init">
        <mkdir dir="${v_kdp}"/> 
    	<mkdir dir="${v_kdp}/plugins"/>
    </target>
	
	<target name="build">
		<length property="length" mode="each">
     		 <fileset dir="../KDP3/1.0.2/plugins" >
			<include name="**/*.swf"/>
		   </fileset>
	   </length>
	<echo>${length}</echo>
	</target>
	
    <target name="compile" depends="clean,init">
    	<fb.exportReleaseBuild failonerror="true" project="KDP3" destdir="${build}"/> 
    	<copy todir="${v_kdp}" file="../KDP3/${build}/kdp3.swf"/>
    	<!--fb.exportReleaseBuild failonerror="true" project="adaptvas3Plugin" destdir="${build}"/>
    	<copy todir="${v_kdp}/plugins" file="../plugins/adaptvas3Plugin/${build}/adaptvas3Plugin.swf"/-->
    	<fb.exportReleaseBuild failonerror="true" project="akamaiHDPlugin" destdir="${build}"/>
    	 <copy todir="${v_kdp}/plugins" file="../plugins/akamaiHDPlugin/${build}/akamaiHDPlugin.swf"/>
    	<fb.exportReleaseBuild failonerror="true" project="genericOSMFPlugin" destdir="${build}"/>
    	<copy todir="${v_kdp}/plugins" file="../plugins/genericOSMFPlugin/${build}/genericOSMFPlugin.swf"/>
    	<!--fb.exportReleaseBuild failonerror="true" project="tremorPlugin" destdir="${build}"/>
    	<copy todir="${v_kdp}/plugins" file="../plugins/tremorPlugin/${build}/tremorPlugin.swf"/>
    	<fb.exportReleaseBuild failonerror="true" project="vastPlugin" destdir="${build}"/>
    	<copy todir="${v_kdp}/plugins" file="../plugins/vastPlugin/${build}/vastPlugin.swf"/>
    	<fb.exportReleaseBuild failonerror="true" project="freeWheelPlugin" destdir="${build}"/>
    	<copy todir="${v_kdp}/plugins" file="../plugins/freeWheelPlugin/${build}/freeWheelPlugin.swf"/>
    	<fb.exportReleaseBuild failonerror="true" project="doubleclickPlugin" destdir="${build}"/>
    	<copy todir="${v_kdp}/plugins" file="../plugins/doubleclickPlugin/${build}/doubleclickPlugin.swf"/>
    	<fb.exportReleaseBuild failonerror="true" project="parallelElementPlugin" destdir="${build}"/>
    	<copy todir="${v_kdp}/plugins" file="../plugins/parallelElementPlugin/${build}/parallelElementPlugin.swf"/-->	
    	<fb.exportReleaseBuild failonerror="true" project="widevinePlugin" destdir="${build}"/>
    	 <copy todir="${v_kdp}/plugins" file="../plugins/widevinePlugin/${build}/widevinePlugin.swf"/>	
    	<fb.exportReleaseBuild failonerror="true" project="kontikiPlugin" destdir="${build}"/>
    	 <copy todir="${v_kdp}/plugins" file="../plugins/kontikiPlugin/${build}/kontikiPlugin.swf"/>	
    	
    	  	
    </target>
 
    <target name="clean" description="Deletes Created Dir">
          <delete dir="${v_kdp}"/> 
    </target>
	


 
</project>